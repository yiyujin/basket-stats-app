{"ast":null,"code":"var _jsxFileName = \"/Users/yujinyi/Desktop/basket-stats-app/frontend/src/pages/Game.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RecordingVideo({\n  setLogTimestamp,\n  setUploadTimestamp,\n  setTimestamps\n}) {\n  _s();\n  const [recording, setRecording] = useState(false);\n  const [duration, setDuration] = useState(0);\n  const [timestamps, updateTimestamps] = useState([]);\n  const [timestampData, setTimestampData] = useState(null);\n  const streamRef = useRef(null);\n  const videoRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const timerRef = useRef(null);\n  useEffect(() => {\n    setTimestamps(timestamps);\n  }, [timestamps, setTimestamps]);\n\n  // Function to log timestamp with player index\n  const logTimestamp = playerIndex => {\n    if (recording) {\n      const newTimestamp = {\n        timestamp: duration,\n        player_index: playerIndex\n      };\n      updateTimestamps(prev => [...prev, newTimestamp]);\n      console.log(`üìç Player ${playerIndex} timestamp: ${duration}s`);\n    }\n  };\n\n  // Function to upload timestamp (convert to JSON)\n  const uploadTimestamp = () => {\n    if (timestamps.length === 0) {\n      console.warn(\"No timestamps to upload!\");\n      return;\n    }\n    const jsonData = {\n      video_name: \"Recording\",\n      duration: duration,\n      timestamps: timestamps\n    };\n    setTimestampData(jsonData);\n    console.log(\"üì§ Uploaded Timestamps:\", jsonData);\n  };\n  useEffect(() => {\n    setLogTimestamp(() => logTimestamp);\n    setUploadTimestamp(uploadTimestamp);\n  }, [setLogTimestamp, setUploadTimestamp, timestamps]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setRecording(true),\n      children: \"Start Recording\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setRecording(false),\n      disabled: !recording,\n      children: \"End Recording\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: uploadTimestamp,\n      disabled: timestamps.length === 0,\n      children: \"Upload Timestamp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), recording ? `${duration}s` : \"\", /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Timestamps:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), timestamps.map((entry, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\u23F1 \", entry.timestamp, \"s (Player \", entry.player_index, \")\"]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(RecordingVideo, \"ku8jIKTtAB4UenlG3e1/L7Wj2YE=\");\n_c = RecordingVideo;\nvar _c;\n$RefreshReg$(_c, \"RecordingVideo\");","map":{"version":3,"names":["useState","useEffect","useRef","jsxDEV","_jsxDEV","RecordingVideo","setLogTimestamp","setUploadTimestamp","setTimestamps","_s","recording","setRecording","duration","setDuration","timestamps","updateTimestamps","timestampData","setTimestampData","streamRef","videoRef","mediaRecorderRef","timerRef","logTimestamp","playerIndex","newTimestamp","timestamp","player_index","prev","console","log","uploadTimestamp","length","warn","jsonData","video_name","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","disabled","map","entry","index","_c","$RefreshReg$"],"sources":["/Users/yujinyi/Desktop/basket-stats-app/frontend/src/pages/Game.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\n\nexport default function RecordingVideo({ setLogTimestamp, setUploadTimestamp, setTimestamps }) {\n    const [recording, setRecording] = useState(false);\n    const [duration, setDuration] = useState(0);\n    const [timestamps, updateTimestamps] = useState([]);\n    const [timestampData, setTimestampData] = useState(null);\n\n    const streamRef = useRef(null);\n    const videoRef = useRef(null);\n    const mediaRecorderRef = useRef(null);\n    const timerRef = useRef(null);\n\n    useEffect(() => {\n        setTimestamps(timestamps);\n    }, [timestamps, setTimestamps]);\n\n    // Function to log timestamp with player index\n    const logTimestamp = (playerIndex) => {\n        if (recording) {\n            const newTimestamp = { timestamp: duration, player_index: playerIndex };\n            updateTimestamps((prev) => [...prev, newTimestamp]);\n            console.log(`üìç Player ${playerIndex} timestamp: ${duration}s`);\n        }\n    };\n\n    // Function to upload timestamp (convert to JSON)\n    const uploadTimestamp = () => {\n        if (timestamps.length === 0) {\n            console.warn(\"No timestamps to upload!\");\n            return;\n        }\n\n        const jsonData = {\n            video_name: \"Recording\",\n            duration: duration,\n            timestamps: timestamps\n        };\n\n        setTimestampData(jsonData);\n        console.log(\"üì§ Uploaded Timestamps:\", jsonData);\n    };\n\n    useEffect(() => {\n        setLogTimestamp(() => logTimestamp);\n        setUploadTimestamp(uploadTimestamp);\n    }, [setLogTimestamp, setUploadTimestamp, timestamps]);\n\n    return (\n        <div>\n            <button onClick={() => setRecording(true)}>Start Recording</button>\n            <button onClick={() => setRecording(false)} disabled={!recording}>End Recording</button>\n            <button onClick={uploadTimestamp} disabled={timestamps.length === 0}>Upload Timestamp</button>\n\n            {recording ? `${duration}s` : \"\"}\n\n            <h3>Timestamps:</h3>\n            {timestamps.map((entry, index) => (\n                <p key={index}>‚è± {entry.timestamp}s (Player {entry.player_index})</p>\n            ))}\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}